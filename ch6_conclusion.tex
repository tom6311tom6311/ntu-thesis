\chapter{Conclusion}
\label{c:conclusion}

This chapter makes a conclusion of the thesis. It starts by describing the problem FileFarm tries to solve. Then it summarizes the approach proposed by FileFarm. Finally it evaluates FileFarm from various aspects with experimental results.

% Problem
\section{Problem}
\label{s:conclusionproblem}

Due to its high reliability and elasticity, cloud storage service has rapidly become the dominant adoption among all kinds of storage choices. However, for enterprises, saving data on a single cloud exposes their business to certain risks directly: (1) loss of control over data, (2) data leakage and insider attacks, (3) vendor lock-in problem. Thus, how to leverage existing cloud storage services without reliance on any single cloud has become an important research problem, which FileFarm tries to solve.

% Approach
\section{Approach}
\label{s:conclusionapproach}

FileFarm solves the single-cloud dependence problem with a cloud-of-clouds architecture. To resolve the consistency and load-balancing issues caused by a centralized database design in conventional cloud-of-clouds work, FileFarm adopts a P2P strategy, in which each cloud, called farmer, synchronizes storage information with each other via Kademlia DHT protocol. Several desired properties of FileFarm are inherited from Kademlia: (1) redundancy maintenance, (2) efficient search and (3) load-balancing design. However, in order to serve as an enterprise-level storage, 4 further properties are required but cannot be provided by Kademlia: (1) data confidentiality, (2) access management, (3) cost-efficiency, (4) retrievability. FileFarm meets these requirements by designing corresponding mechanisms: (1) \textit{encryption} and \textit{Information Dispersal Algorithm}, (2) \textit{decentralized authentication}, (3) \textit{storage release} and \textit{prioritized download}, (4) \textit{public farmer ID assignment}. These mechanisms collectively make FileFarm a robust, secure and cost-efficient storage solution.

% Evaluation
\section{Evaluation}
\label{s:conclusionevaluation}

Properties of FileFarm are tested through experiments in a wide variety of aspects. Experiments \ref{s:expnodelookupefficiency} and \ref{s:expvaluelookupefficiency} show that lookup steps in FileFarm grow with network size following a logarithm curve. With the number of farmers growing from 50 to 100, it only takes around 2 more steps to locate all $K$ closest farmers, which ensures routing efficiency and scalability of FileFarm. Experiment \ref{s:expretrievability} shows that FileFarm effectively improves retrievability of data by redundancy designs of 2 parameters: (1) $K$: Number of redundant copies stored for each shard (2) $q$: redundancy parameter in a $(4, q)$ Information Dispersal Algorithm schema. Within a system where farmers have $0.01$ probability to be offline, a setting of $K=2$ and $q=1$ achieves the data lost rate of $0.01^{2}=0.0001$. Experiment \ref{s:expthroughput} shows that FileFarm effectively improves throughput by parallel operations, with a peak value of 37 MB/s uploading speed and 70 MB/s downloading speed under the constraints of 10 MB/s farmer bandwidth and 1 GBits/s NIC capacity. Experiment \ref{s:expcoststoragerelease} shows that FileFarm's \textit{storage release} mechanism effectively reduces the redundant cost of \textit{static storage fee}. In a migration scenario where number of public farmers increases from 3 to 4, a 21.1\% overhead of storage cost can be avoided by enabling \textit{storage release}, which makes the cost curve sticking to that of the non-migration reference case. Experiment \ref{s:expcostprioritizeddownload} shows that FileFarm's \textit{prioritized download} mechanism preserves \textit{data transfer out fee} effectively. In a hybrid scenario of 4 public farmers and 21 private farmers, 48\% of transfer fee can be preserved by \textit{prioritized download}.

Through these experiments, we evaluate the claimed properties of FileFarm in terms of lookup efficiency, scalability, retrievability, throughput and cost efficiency. These properties ensure that data in FileFarm are distributed safely over multiple clouds with optimized cost. As long as there are no concurrent failures occurring at more than $K âˆ’ 1$ farmers, the data will still be retrievable. Besides, once a farmer churns off, the data it used to store will be replicated to other farmers automatically, which maintains consistent level of redundancy. In case of a new farmer joining the network, storage load on each farmer will be balanced automatically. The properties collectively make FileFarm a robust, secure and cost-efficient storage solution. In addition to system design, we also implement a proof-of-concept that not only confirms our claims but also serves as a product prototype of our structured P2P file storage solution.
